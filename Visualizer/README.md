# Visualizer

Utility to make and use MIT Momentum competition maps interactively.

## How to use

1. Navigate your command line to the root folder of the project (this Visualizer folder should be a subfolder to the root)
2. Run the visualizer in one of two modes
   1. Enter `bokeh serve Visualizer --show --args -m` on your commandline, press `Enter` for the MapMaker
      - You can edit an existing map using `bokeh serve Visualizer --show --args -m <mapname>`, where `<mapname>` is a map stored in the maps directory, press `Enter` for the Visualizer
      - To bulk delete object of interest, use the box select tool to select multiple glyphs, select the tool that makes the glyphs you want to delete, press `Backspace`
      - To modify the existing map, click `Save As`
      - To save the map as a new map, give the map a unique name and click `Save As`
   2. Enter `bokeh serve Visualizer --show --args -v <mapname>` on your commandline, where `<mapname>` is a map stored in the maps directory, press `Enter` for the Visualizer
3. A web browser tab should open with the Visualizer utility at http://localhost:5006/Visualizer

Check out the [User's Guide](https://github.com/lmco/lm-mit-momentum22/blob/main/Visualizer/MIT%20Momentum%20Visualization%20User's%20Guide.pptx) for a more thorough walkthrough. It contains a detailed breakdown of features and gifs of those features in action (you may have to be in presentation mode for the gifs to play depending on your settings).

>**NOTE:** We strongly recommend using Chrome with the Visualizer. Graphical anomalies were observed when using the zoom feature in Firefox. Other browser are untested.

## Dependencies

``` sh
pip3 install bokeh
pip3 install geopandas
pip3 install grpcio-tools
pip3 install Shapely
pip3 install Rtree
```

Refer to the [geopandas](https://geopandas.org/getting_started/install.html#installing-with-pip) website if you experience issues with missing dependencies for geopandas.

## Generating gRPC code (students do not need to do this)

From the project root folder, run:

``` sh
python3 -m grpc_tools.protoc -I./protos --python_out=Visualizer --grpc_python_out=Visualizer protos/viz.proto
```

This will put the autogenerated files into `Visualizer`.
